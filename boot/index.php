<?php
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Requires
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
require "./Settings.php";
require "libs/Scss_Compiler/scss.inc.php";
require "libs/Js_Min/jsmin.php";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////





////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Scss Compile
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if($Compile_Scss)
{
    $Scss = new scssc();

    $Scss->addImportPath($Scss_Folder);
    $Scss->setFormatter($Compress_Scss_Type);
    $Css = $Scss->compile('@import "'. $Scss_Filename .'"');

    file_put_contents($Css_Folder . $Css_Filename . '.css', $Css );
    if($Compress_Gzip)
    {
        $Css = gzencode($Css,5);
        file_put_contents($Css_Folder . $Css_Filename . '.css.gz', $Css);
    }

}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////





////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Compress Js
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Libs
$Js  = file_get_contents('./js/libs/jquery.js');
$Js .= file_get_contents('./js/libs/jquery.color.js');
$Js .= file_get_contents('./js/libs/jquery.transform2d.js');
$Js .= file_get_contents('./js/libs/jquery.transform3d.js');
$Js .= file_get_contents('./js/libs/jquery.nicescroll.js');
$Js .= file_get_contents('./js/libs/jquery.maskedinput.js');

// Upf
$Js .= file_get_contents('./js/upf/Core/Variables.js');
$Js .= file_get_contents('./js/upf/Core/Start.js');
$Js .= file_get_contents('./js/upf/Modules/Forms.js');
$Js .= file_get_contents('./js/upf/Plugins/Grid.js');



$Js = JSMin::minify($Js);

file_put_contents($Js_Folder . $Js_Filename . '.js  ', $Js);
if($Js_Compress_Gzip)
{
    $Js = gzencode($Js,5);
    file_put_contents($Js_Folder . $Js_Filename . '.js.gz', $Js);
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
